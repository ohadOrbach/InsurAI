---
description: 
globs: 
alwaysApply: false
---
# CursorRIPER Framework - Task Parsing and Execution
# Version 1.0.1

## AI PROCESSING INSTRUCTIONS
This component enables automated parsing of PRDs into actionable tasks and execution tracking. As an AI assistant, you MUST:
- Load this component when PROJECT_PHASE is "DEVELOPMENT" or "MAINTENANCE"
- Parse PRDs automatically when in PLAN mode with task parsing enabled
- Track task progress in memory bank under tasks/ directory
- Integrate task execution with RIPER workflow modes
- Never modify task definitions without explicit user consent

## TASK PARSING WORKFLOW

### Automatic PRD Parsing
When enabled and in PLAN mode:
1. **Locate PRD**: Search for ./docs/PRD.md or ./docs/PRD.MD
2. **Parse Requirements**: Break down PRD into logical sections and user stories
3. **Generate Tasks**: Create specific, actionable tasks with clear outcomes
4. **Create Task File**: Generate tasks.json in memory-bank/tasks/
5. **Initialize Tracking**: Set up progress tracking system

### Task Structure
```json
{
  "metadata": {
    "prd_source": "docs/PRD.md",
    "parsed_date": "YYYY-MM-DDTHH:MM:SSZ",
    "total_features": 0,
    "total_tasks": 0,
    "completion_percentage": 0
  },
  "features": {
    "feature_name": {
      "description": "Feature description from PRD",
      "priority": "high|medium|low",
      "tasks": [
        {
          "id": "task_id",
          "name": "Task Name",
          "description": "Detailed description of the task",
          "files": ["path/to/file1", "path/to/file2"],
          "dependencies": ["other_task_id"],
          "estimated_effort": "small|medium|large",
          "status": "pending|in_progress|completed|blocked",
          "mode_assignments": {
            "research": ["research_subtask"],
            "plan": ["planning_subtask"],
            "execute": ["implementation_subtask"],
            "review": ["review_subtask"]
          }
        }
      ],
      "current_task": null,
      "last_updated": "YYYY-MM-DDTHH:MM:SSZ"
    }
  }
}
```

## TASK EXECUTION INTEGRATION

### Mode-Task Mapping
- **RESEARCH Mode**: Execute research subtasks, gather information
- **INNOVATE Mode**: Generate solution approaches for tasks
- **PLAN Mode**: Create detailed implementation plans for tasks + simple test for tasks
- **EXECUTE Mode**: Implement planned tasks with code changes 
- **REVIEW Mode**: Validate completed tasks with test success and mark completion

### Task Selection Algorithm
1. **Priority Ordering**: High → Medium → Low priority features
2. **Dependency Resolution**: Check if all dependencies are completed
3. **Mode Alignment**: Select tasks appropriate for current RIPER mode
4. **User Confirmation**: Always confirm task selection before execution

### Automated Task Progression
When AUTO_TASK_PROGRESSION is enabled:
1. **Complete Current Task**: Mark current task as completed
2. **Select Next Task**: Apply selection algorithm
3. **Mode Transition**: Suggest appropriate mode for next task
4. **Execute**: Begin execution if in appropriate mode

## COMMANDS

### Task Management Commands
- `/parse-prd` → Parse PRD into tasks (requires PLAN mode)
- `/list-tasks` → Show all tasks with current status
- `/select-task <task_id>` → Select specific task for execution
- `/next-task` → Select next task automatically
- `/task-status` → Show current task and overall progress, use files from .memory-bank/tasks folder
- `/test-task` → Run test script of the task
- `/complete-task` → Mark current task as completed

### Task Iteration Commands  
- `/iterate-tasks` → Run through all pending tasks automatically
- `/pause-iteration` → Pause automatic task iteration
- `/resume-iteration` → Resume automatic task iteration

## PROGRESS TRACKING

### Task Progress Metrics
- Total tasks: Count of all tasks
- Completed tasks: Count of completed tasks
- In-progress tasks: Count of currently active tasks
- Blocked tasks: Count of tasks waiting on dependencies
- Completion percentage: (Completed / Total) * 100

### Memory Bank Integration
Tasks are tracked in memory-bank structure:
```
memory-bank/
├── tasks/
│   ├── tasks.json              # Main task definitions
│   ├── current-task.json       # Currently selected task
│   ├── progress-log.md         # Task completion history
│   └── iteration-state.json    # Automated iteration state
```

## INTEGRATION WITH RIPER WORKFLOW

### Enhanced Mode Behavior
Each RIPER mode now includes task awareness:

**RESEARCH Mode + Tasks**:
- Load research subtasks from current task
- Document findings in task-specific research files
- Update task progress upon completion

**INNOVATE Mode + Tasks**:
- Generate solution approaches for pending tasks
- Evaluate approaches against task requirements
- Select optimal approach for planning

**PLAN Mode + Tasks**:
- Create detailed implementation plans for tasks
- Break down tasks into executable steps
- Identify file modifications needed
- Create simple test for tasks

**EXECUTE Mode + Tasks**:
- Implement planned tasks with code changes
- Track file modifications per task
- Update task status upon completion

**REVIEW Mode + Tasks**:
- Validate completed task implementation
- Run tests and quality checks
- Run test
- Mark tasks as fully completed

### Workflow Memory Enhancement
Task data is automatically integrated into workflow memory:
- Current task context in activeContext.md
- Task progress in progress.md
- Task-specific learnings in knowledge-base.json

---

*This component enables systematic parsing and execution of PRD requirements through the RIPER workflow system.*